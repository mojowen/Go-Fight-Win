<script type="text/html" id="row">

	<!-- ko if: typeof $data != 'undefined' -->

		<tr>
			<!-- ko if: $data._menu() != 'newRowMenu' -->
				<td class="rownum" data-bind="text: rows.indexOf($data) + 1"></td>
			<!-- /ko -->
			<!-- ko foreach: fields -->
			<td class="cell">
				<!-- ko template: {name: 'row'+$data.field_type } -->
				<!-- /ko -->
			</td>
			<!-- /ko -->
			<td class="menu" data-bind="template: {name: $data._menu()} ">
			</td>
			<!--<td data-bind="text: new Date().toLocaleTimeString()"></td>-->
		</tr>
	<!-- /ko -->

</script>

<script type="text/html" id="rowtext">
	<textarea data-bind="value: $parent[$data.to_param], valueUpdate: 'afterkeydown'" class="data"></textarea>
</script>
<script type="text/html" id="rownumber">
	<textarea class="number has_controls data" data-bind="value: $parent[$data.to_param], valueUpdate: 'afterkeydown'"></textarea>
	<div class="number_controls field_controller"><span class="number_up">&#x2191;</span><span class="number_down">&#x2193;</span></div>
</script>
<script type="text/html" id="rowselect">
	<select data-bind="value: $parent[$data.to_param], options: ['--'].concat($data.field_options)" class="data"></select>
</script>
<script type="text/html" id="rowmulti-select">
	<select multiple="true" data-bind="selectedOptions: $parent[$data.to_param], options: ['--'].concat($data.field_options)" class="data"></select>
</script>
<script type="text/html" id="rowdate">
	<textarea class="date has_controls data" spellcheck="false" data-bind="datepicker: $parent[$data.to_param](), valueUpdate: 'afterkeydown'"></textarea>	
	<div class="date_controls field_controller"><span class="cal">&#x1f4c5;</span><div class="date_picker"></div></div>
</script>
<script type="text/html" id="rowsuggest">
	<textarea class="suggest data " data-bind="value: $parent[$data.to_param]"></textarea>	
</script>
<script type="text/html" id="rowchildren">
	<div data-bind="foreach: $parent[$data.to_param], css: {'empty' : $parent[$data.to_param]().length == 0 }" class="data children">
		<a target="_blank" class="child_row" data-bind="text: $data.name, attr: {'href': $data.address }"></a>
	</div>	
</script>

<script type="text/html" id="newRowMenu">
	<span class="add clickable">Add</span>
	<span class="remove clickable">Discard</span>
</script>

<script type="text/html" id="unsavedRowMenu">
	<span class="remove clickable">Discard</span>
</script>

<script type="text/html" id="rowMenu">
	<span class="remove clickable">
		Delete
	</span>
	
</script>

